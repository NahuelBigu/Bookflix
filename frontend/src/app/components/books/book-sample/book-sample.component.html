<div class="container pt-5" *ngIf="book">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card bg-transparent">
                <div class="card.body" *ngIf="error==''">
                    <ng-container *ngIf="book">
                        <div class="row">
                            <div class="col-4">
                                <img src="{{book.image}}" alt="Portada de {{book.name}}" style="position: relative ; z-index: -1; " class="imagen card-img-top">

                                <div class="text-center mt-2">
                                    <input id="toggle-heart" type="checkbox" (click)="agregarFav()" [checked]="fav" />
                                    <label for="toggle-heart">‚ù§</label>
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="row align-items-center">
                                    <div class="col-12">
                                        <h3 class="text-ligth">{{book.name}}</h3>
                                    </div>
                                </div>
                                <div class="row align-items-center">
                                    <h6 class="ml-3 mr-1"><a class="badge badge-danger" [routerLink]="['/busqueda/',book.author ]">{{book.author}}</a></h6>
                                    <h6 class="ml-1 mr-1"><a class="badge badge-danger" [routerLink]="['/busqueda/',book.editorial ]">{{book.editorial}}</a></h6>
                                    <h6 class="ml-1"><a class="badge badge-danger" [routerLink]="['/busqueda/',book.genre ]">{{book.genre}}</a></h6>
                                </div>
                                <p>{{book.synopsis}}</p>
                                <button [routerLink]="['/books/trailer/',book._id]" class="btn btn-block btn-outline-danger">
                                    Ver trailers
                                </button>
                            </div>
                        </div>
                    </ng-container>
                    <div class="row mt-2">
                        <div class="col-4"></div>
                        <div class="col-8">
                            <button *ngIf="isAdmin()&&book" [routerLink]="['/books/edit/',book._id]" class="btn btn-block btn-outline-danger">
                                Editar Libro
                            </button>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-8">
                            <p class="h5">Capitulos </p>
                        </div>
                        <div class="col-4 text-right">
                            <button class="btn btn-outline-danger" type="button" (click)="terminar()" *ngIf="!termine">Terminar</button>
                            <button class="btn btn-outline-danger" type="button" (click)="sacarDelHistorial()" *ngIf="termine">Sacar de Historial</button>
                        </div>
                    </div>
                    <div>
                        <ul class="list-group mt-3 mb-3 " style="border-radius: 13px 13px 13px 13px;">
                            <ng-container *ngFor="let chapter of book.chapters; index as i">
                                <li class="list-group-item " *ngIf="chapter != null">
                                    <div class="row d-flex justify-content-between align-items-center">
                                        <div class="col-10" style="cursor:pointer">
                                            <a [routerLink]="['/books/leer/', book._id , i]" style="color: rgb(168, 168, 168);">Capitulo {{i+1}}  </a>
                                        </div>
                                        <div class="col-2 text-right" (click)="verCapitulo(i)">
                                            <i class="" style="cursor:pointer" [ngClass]="leido(i) ? 'fas fa-eye leido' : 'far fa-eye-slash'  "></i>
                                        </div>
                                    </div>



                                </li>
                            </ng-container>

                        </ul>
                    </div>
                </div>
                <div class="alert alert-danger" *ngIf="error!=''">
                    {{error}}
                </div>
            </div>
        </div>
    </div>
</div>